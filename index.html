<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SexyStar - –®–ª—ë–ø–∞–π!</title>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <style>
        body {
            margin: 0;
            font-family: Arial, Helvetica, sans-serif;
            background: linear-gradient(to bottom, #ff69b4, #8a2be2);
            color: white;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            overflow: hidden;
        }
        
        h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }
        
        #girl {
            font-size: 10em;
            margin: 20px 0;
            transition: transform 0.15s ease;
            user-select: none;
        }
        
        #counter {
            font-size: 2.5em;
            margin: 20px 0;
            font-weight: bold;
        }
        
        button {
            font-size: 2.8em;
            padding: 25px 80px;
            background: #ff1493;
            border: none;
            border-radius: 100px;
            color: white;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
            touch-action: manipulation;
        }
        
        button:active {
            transform: scale(0.94);
        }
        
        /* Ripple —ç—Ñ—Ñ–µ–∫—Ç (–≤–æ–ª–Ω–∞ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏) */
        @keyframes rippleAnim {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(4); opacity: 0; }
        }
        
        .ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.7);
            transform: scale(0);
            animation: rippleAnim 0.7s linear;
            pointer-events: none;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è —Å–µ—Ä–¥–µ—á–µ–∫ */
        @keyframes floatHeart {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translateY(-180px) scale(1.6) rotate(720deg);
            }
        }
        
        .heart {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            font-size: 2.2em;
            animation: floatHeart 1.5s ease-out forwards;
        }
    </style>
</head>
<body>

    <h1>SexyStar üòà</h1>
    
    <div id="girl">üë©‚Äçü¶∞</div>
    
    <div id="counter">–®–ª–µ–ø–∫–æ–≤: 0</div>
    
    <button id="slap-btn">–®–õ–Å–ü!</button>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Mini App
        Telegram.WebApp.ready();
        Telegram.WebApp.expand();

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ —Å—á—ë—Ç–∞
        let count = parseInt(localStorage.getItem('slapCount') || '0', 10);

        const counterEl = document.getElementById('counter');
        const girlEl   = document.getElementById('girl');
        const button   = document.getElementById('slap-btn');
        const container = document.body;

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
        counterEl.textContent = `–®–ª–µ–ø–∫–æ–≤: ${count}`;

        // –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–¥–µ—á–µ–∫
        function createHearts(x, y, qty = 18) {
            for (let i = 0; i < qty; i++) {
                const heart = document.createElement('div');
                heart.innerHTML = Math.random() > 0.6 ? 'üíñ' : 'üíï'; // —á–µ—Ä–µ–¥—É–µ–º —Å–µ—Ä–¥–µ—á–∫–∏
                heart.className = 'heart';
                
                // –†–∞–∑–±—Ä–æ—Å –≤–æ–∫—Ä—É–≥ —Ç–æ—á–∫–∏ –∫–ª–∏–∫–∞
                heart.style.left = (x + (Math.random() - 0.5) * 240) + 'px';
                heart.style.top  = (y + (Math.random() - 0.5) * 240) + 'px';
                
                // –†–∞–∑–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —Ä–∞–∑–º–µ—Ä
                const dur = 1.1 + Math.random() * 0.7;
                const scale = 0.9 + Math.random() * 0.8;
                heart.style.animationDuration = dur + 's';
                heart.style.transform = `scale(${scale}) rotate(${Math.random() * 720}deg)`;
                
                container.appendChild(heart);
                
                setTimeout(() => heart.remove(), dur * 1000 + 200);
            }
        }

        // Ripple-—ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ –∫–Ω–æ–ø–∫–µ
        function createRipple(e) {
            const ripple = document.createElement('span');
            const rect = button.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height) * 2;
            
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top  - size / 2;
            
            ripple.style.width = ripple.style.height = size + 'px';
            ripple.style.left = x + 'px';
            ripple.style.top  = y + 'px';
            ripple.classList.add('ripple');
            
            button.appendChild(ripple);
            
            setTimeout(() => ripple.remove(), 700);
        }

        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —à–ª—ë–ø–∫–∞
        function slap(e) {
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç
            count += 1 + Math.floor(Math.random() * 6); // 1‚Äì6 –∑–∞ —Ä–∞–∑
            counterEl.textContent = `–®–ª–µ–ø–∫–æ–≤: ${count}`;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º
            localStorage.setItem('slapCount', count.toString());

            // –¢—Ä—è—Å–∫–∞ –¥–µ–≤—É—à–∫–∏
            girlEl.style.transform = 'scale(1.25) rotate(8deg)';
            setTimeout(() => {
                girlEl.style.transform = 'scale(1) rotate(0deg)';
            }, 160);

            // –ê–Ω–∏–º–∞—Ü–∏–∏
            createRipple(e);
            
            const rect = button.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top  + rect.height / 2;
            createHearts(centerX, centerY);

            // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
            console.log('–®–ª–µ–ø–æ–∫ | –≤—Å–µ–≥–æ:', count, '| –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', 
                Telegram.WebApp.initDataUnsafe.user?.username || '–∞–Ω–æ–Ω–∏–º');
        }

        // –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ
        button.addEventListener('click', slap);

        // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ (–≤ –∫–æ–Ω—Å–æ–ª—å)
        if (Telegram.WebApp.initDataUnsafe.user) {
            const u = Telegram.WebApp.initDataUnsafe.user;
            console.log(`–ü—Ä–∏–≤–µ—Ç, ${u.first_name} ${u.last_name || ''} (@${u.username || '–Ω–µ—Ç'})`);
        }
    </script>

</body>
</html>
