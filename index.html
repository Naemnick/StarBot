<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SexyStar - –®–ª—ë–ø–∞–π!</title>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <style>
        body {
            margin: 0;
            font-family: Arial, Helvetica, sans-serif;
            background: linear-gradient(to bottom, #ff69b4, #8a2be2);
            color: white;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            overflow: hidden;
        }
        
        h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }
        
        #girl {
            width: 220px;
            height: 320px;
            object-fit: cover;
            border-radius: 24px;
            margin: 20px 0;
            transition: transform 0.15s ease, box-shadow 0.3s;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            user-select: none;
        }
        
        #level {
            font-size: 1.6em;
            margin: 10px 0;
            font-weight: bold;
            color: #ffd700;
        }
        
        #counter {
            font-size: 2.5em;
            margin: 20px 0;
            font-weight: bold;
        }
        
        button {
            font-size: 2.8em;
            padding: 25px 80px;
            background: #ff1493;
            border: none;
            border-radius: 100px;
            color: white;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
            touch-action: manipulation;
        }
        
        button:active {
            transform: scale(0.94);
        }
        
        /* Ripple —ç—Ñ—Ñ–µ–∫—Ç */
        @keyframes rippleAnim {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(4); opacity: 0; }
        }
        
        .ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.7);
            transform: scale(0);
            animation: rippleAnim 0.7s linear;
            pointer-events: none;
        }
        
        /* –°–µ—Ä–¥–µ—á–∫–∏ */
        @keyframes floatHeart {
            0% { opacity: 1; transform: translateY(0) scale(1) rotate(0deg); }
            100% { opacity: 0; transform: translateY(-180px) scale(1.6) rotate(720deg); }
        }
        
        .heart {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            font-size: 2.2em;
            animation: floatHeart 1.5s ease-out forwards;
        }
    </style>
</head>
<body>

    <h1>SexyStar üòà</h1>
    
    <img id="girl" src="" alt="–ö–æ—Ä–æ–ª–µ–≤–∞">
    
    <div id="level">–£—Ä–æ–≤–µ–Ω—å: 1</div>
    <div id="counter">–®–ª–µ–ø–∫–æ–≤: 0</div>
    
    <button id="slap-btn">–®–õ–Å–ü!</button>

    <script>
        Telegram.WebApp.ready();
        Telegram.WebApp.expand();

        // –£—Ä–æ–≤–Ω–∏ –∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏
        const girlImages = {
            1: "https://w0.peakpx.com/wallpaper/251/987/HD-wallpaper-anime-girl-pink-hair-band-aid-shy-expression-blushes-twintails-anime.jpg",     // –£—Ä–æ–≤–µ–Ω—å 1: –º–∏–ª–∞—è —Ä–æ–∑–æ–≤–∞—è
            2: "https://w0.peakpx.com/wallpaper/32/733/HD-wallpaper-warrior-swords-sexy-pose-female-red-dress-sexy-blood-thighhighs-big-breasts-cool-warrior-torn-clothes-katana-hot-anime-girl-underboob.jpg", // –£—Ä–æ–≤–µ–Ω—å 2: —Å–µ–∫—Å—É–∞–ª—å–Ω–∞—è –≤ –∫—Ä–∞—Å–Ω–æ–º
            3: "https://thumbs.dreamstime.com/b/beautiful-anime-young-girl-wearing-red-gold-embroidered-dress-standing-elegance-chinese-lanterns-art-358511511.jpg"  // –£—Ä–æ–≤–µ–Ω—å 3: —ç–ª–µ–≥–∞–Ω—Ç–Ω–∞—è –≤ –∑–æ–ª–æ—Ç–æ–º/–∫—Ä–∞—Å–Ω–æ–º
        };

        let count = parseInt(localStorage.getItem('slapCount') || '0', 10);
        let currentLevel = 1;

        const counterEl = document.getElementById('counter');
        const levelEl   = document.getElementById('level');
        const girlEl    = document.getElementById('girl');
        const button    = document.getElementById('slap-btn');
        const container = document.body;

        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è –∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏
        function updateLevelAndImage() {
            let newLevel = 1;
            if (count >= 800) newLevel = 3;
            else if (count >= 300) newLevel = 2;

            if (newLevel !== currentLevel) {
                currentLevel = newLevel;
                levelEl.textContent = `–£—Ä–æ–≤–µ–Ω—å: ${currentLevel}`;
                girlEl.src = girlImages[currentLevel];
                // –ö–æ—Ä–æ—Ç–∫–∞—è –∞–Ω–∏–º–∞—Ü–∏—è —Å–º–µ–Ω—ã
                girlEl.style.opacity = 0;
                setTimeout(() => { girlEl.style.opacity = 1; }, 200);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        counterEl.textContent = `–®–ª–µ–ø–∫–æ–≤: ${count}`;
        updateLevelAndImage(); // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É

        // –°–µ—Ä–¥–µ—á–∫–∏
        function createHearts(x, y, qty = 18) {
            for (let i = 0; i < qty; i++) {
                const heart = document.createElement('div');
                heart.innerHTML = Math.random() > 0.5 ? 'üíñ' : 'üíï';
                heart.className = 'heart';
                heart.style.left = (x + (Math.random() - 0.5) * 240) + 'px';
                heart.style.top  = (y + (Math.random() - 0.5) * 240) + 'px';
                const dur = 1.1 + Math.random() * 0.7;
                const scale = 0.9 + Math.random() * 0.8;
                heart.style.animationDuration = dur + 's';
                heart.style.transform = `scale(${scale}) rotate(${Math.random() * 720}deg)`;
                container.appendChild(heart);
                setTimeout(() => heart.remove(), dur * 1000 + 200);
            }
        }

        // Ripple
        function createRipple(e) {
            const ripple = document.createElement('span');
            const rect = button.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height) * 2;
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top  - size / 2;
            ripple.style.width = ripple.style.height = size + 'px';
            ripple.style.left = x + 'px';
            ripple.style.top  = y + 'px';
            ripple.classList.add('ripple');
            button.appendChild(ripple);
            setTimeout(() => ripple.remove(), 700);
        }

        // –®–ª—ë–ø–æ–∫
        function slap(e) {
            count += 1 + Math.floor(Math.random() * 6);
            counterEl.textContent = `–®–ª–µ–ø–∫–æ–≤: ${count}`;
            localStorage.setItem('slapCount', count.toString());

            girlEl.style.transform = 'scale(1.25) rotate(8deg)';
            setTimeout(() => { girlEl.style.transform = 'scale(1) rotate(0deg)'; }, 160);

            createRipple(e);
            const rect = button.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top  + rect.height / 2;
            createHearts(centerX, centerY);

            updateLevelAndImage(); // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Ä–æ–≤–µ–Ω—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–ª—ë–ø–∫–∞
        }

        button.addEventListener('click', slap);

        // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
        if (Telegram.WebApp.initDataUnsafe.user) {
            const u = Telegram.WebApp.initDataUnsafe.user;
            console.log(`–ü—Ä–∏–≤–µ—Ç, ${u.first_name} (@${u.username || '–Ω–µ—Ç'})`);
        }
    </script>

</body>
</html>
